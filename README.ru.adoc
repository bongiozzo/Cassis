= Cassis

== This project

Это первый опыт моделирования многотельного изделия в параметрическом CAD - FreeCAD.
Перед созданием были просмотрены https://wiki.freecad.org/Tutorials[обучающие из раздела Modeling Parts].

Основная задача этого проекта - разобраться в FreeCAD на практическом примере и при этом использовать лучшие подходы.

Когда сделано всё правильно, то и решение получается красивым.
Отсутствуют повторения – DRY.
Don't Repeat Yourself
Решение должно быть максимально простым и лаконичным – КISS.
Keep It Simple, Stupid!

И в пределе это может означать, что можно будет ввести основные параметры изделия в online форме - и получить готовые детали для сборки.
Что-то аналогичное https://gridfinity.perplexinglabs.com/[автоматическому генератору моделей Gridfinity].

[note]
Наличие Python API у FreeCAD должно обеспечивать и такой сценарий впоследствии.

== Idea

В качестве первого опыта решено спроектировать декоративный светильник в виде зимней палаточной печки с кодовым названием "Cassis".

Внутрь печки можно будет устанавливать полупрозрачные сменные детали для создания разных световых эффектов.
Например, с использованием https://shop.thehueforge.com/pages/examples[технологии HueForge] для витражей и литографии.

В качестве источника света подойдет блок от другого светильника - параметры крепления этого блока будут фиксированными.

Забегая вперёд – получился такой светильник:

.A walkthrough of the product
video::pic/cassis.mp4[]

== Source

При проектировании информационных систем важно обеспечить хранение всех данных в едином источнике.
Здесь подход должен быть такой же.

[note]
Первая мысль была в качестве хранилища справочной информации использовать Google Sheets, где начинал набрасывать параметры изделия.
Там привычный и богатый функционал и информация доступны через REST API.
Однако необходимой интеграции не нашлось.
Вероятно такой функционал кто-то разработает позже.

FreeCAD обладает собственным простым аналогом электронной таблицы, в которой можно выписать все параметры и связать их формулами.
Буду использовать его, хотя ощутимо не хватает привычной сортировки, фильтрации и базовых возможностей оформления.

.Таблица со всеми параметрами
image::pic/ss.png[Таблица со всеми параметрами]

== Naming

Начиная с первого же чертежа становится понятно, что, несмотря на простоту изделия, в нём будет порядка сотни параметров и нужно как-то договориться с самим собой о формате именования.

Решил использовать общий формат, который используется в Python - названия пишутся строчными буквами через "_".
В качестве префикса использую операцию преобразования и типы деталей:

* po_ - pocket
* pa_ - pad
* binder_

Первое значимое слово для названия детали или базового параметра:

* door
* latch
* tube
* tol - tolerance

И далее использовать сокращения для типа параметра:

* _x - значение по оси Х, ширина
* _z - оси Z, высота
* _y - ось Y, глубина
* _t - thickness
* _r - radius
* _d - diameter
* _o - offset

Параметров получилось порядка 70 штук для первого проекта и этих правил вполне хватило.

== Structure

== Technics

Drafts & Part Workbench

=== Assemblies

=== Park Design Workbench

=== Master Sketches

=== SubShapeBinder

=== Positions and Attachment Offset

Origin ZX
Wall Master - ZX - Center in Center
Bottom Master - YX - Center in Center
Top - as 180 degree bottom

Leg Sketch - YZ - Because of leg's profile

=== Primitives

Supressed

Fillet

== What's next?

- How to check on unused variables?
- How to be sure with sketcher's constraints - tutorial
- Is there way to name Origin's by body name?

API
AI
